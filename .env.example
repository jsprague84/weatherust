# Copy to .env and fill in your actual secrets (do NOT commit .env)

# ==============================================================================
# CORE CONFIGURATION
# ==============================================================================

# Timezone for Ofelia's cron scheduling
TZ=America/Chicago

# Absolute host path to this .env file (used by Ofelia to mount into containers)
# Update this to match your server's actual path
# Examples:
#   /home/ubuntu/docker-compose/weatherust/.env
#   /opt/weatherust/.env
ENV_FILE_HOST_PATH=/absolute/path/to/your/weatherust/.env

# Debug logging for Gotify API calls (masks token, shows URL/source/message lengths)
# Set to true or 1 to enable
# GOTIFY_DEBUG=false


# ==============================================================================
# GOTIFY NOTIFICATION SETTINGS
# ==============================================================================

# Gotify server URL (used by all services)
GOTIFY_URL=https://gotify.example.com/message

# Service-specific Gotify tokens (REQUIRED for each service you want to use)
# Each service checks only its own key - no shared fallback key
#
# Simple setup (same key for all services - all notifications in one Gotify app):
#   WEATHERUST_GOTIFY_KEY=your_gotify_token
#   UPDATEMON_GOTIFY_KEY=your_gotify_token
#   DOCKERMON_GOTIFY_KEY=your_gotify_token
#   SPEEDY_GOTIFY_KEY=your_gotify_token
#   UPDATECTL_GOTIFY_KEY=your_gotify_token
#
# Organized setup (different keys per service - separate Gotify apps):
#   WEATHERUST_GOTIFY_KEY=token_for_weather_app
#   UPDATEMON_GOTIFY_KEY=token_for_updates_app
#   DOCKERMON_GOTIFY_KEY=token_for_docker_app
#   SPEEDY_GOTIFY_KEY=token_for_speedtest_app
#   UPDATECTL_GOTIFY_KEY=token_for_updatectl_app
#
WEATHERUST_GOTIFY_KEY=your_weatherust_gotify_token_here
UPDATEMON_GOTIFY_KEY=your_updatemon_gotify_token_here
DOCKERMON_GOTIFY_KEY=your_dockermon_gotify_token_here
SPEEDY_GOTIFY_KEY=your_speedynotify_gotify_token_here
UPDATECTL_GOTIFY_KEY=your_updatectl_gotify_token_here

# Alternative: Use a file containing the Gotify key (useful with Docker secrets)
# This is a fallback if the service-specific key above is not set
# GOTIFY_KEY_FILE=/run/secrets/gotify_key


# ==============================================================================
# WEATHERUST - Weather monitoring and notifications
# ==============================================================================

# OpenWeatherMap API key (required)
# Get your free API key at: https://openweathermap.org/api
OWM_API_KEY=your_openweathermap_api_key_here

# Default location settings
# Provide EITHER DEFAULT_ZIP (preferred) OR DEFAULT_LOCATION
# DEFAULT_ZIP takes precedence when both are set
DEFAULT_ZIP=52726
DEFAULT_UNITS=imperial

# Alternative: Use location string instead of ZIP
# DEFAULT_LOCATION=Davenport,IA,US


# ==============================================================================
# SPEEDYNOTIFY - Internet speed test monitoring
# ==============================================================================

# Minimum acceptable speeds in Mbps (below these values triggers alerts)
SPEEDTEST_MIN_DOWN=300
SPEEDTEST_MIN_UP=20

# Optional: Pin to specific Ookla speedtest server ID
# Find server IDs at: https://www.speedtest.net/speedtest-servers.php
# SPEEDTEST_SERVER_ID=12345


# ==============================================================================
# DOCKERMON - Docker container health monitoring
# ==============================================================================

# CPU and memory warning thresholds (percent)
CPU_WARN_PCT=85
MEM_WARN_PCT=90

# Send notification even when all containers are healthy (default: false)
HEALTH_NOTIFY_ALWAYS=false

# Ignore specific containers (comma-separated: name, ID, or service name)
# Example: DOCKERMON_IGNORE=weatherust-weatherust-1,weatherust-speedynotify-1
# DOCKERMON_IGNORE=


# ==============================================================================
# UPDATEMON - OS and Docker update monitoring
# ==============================================================================

# Comma-separated list of servers to check (format: name:user@host or user@host)
# Examples:
#   UPDATE_SERVERS=server1:ubuntu@192.168.1.10,server2:admin@192.168.1.20
#   UPDATE_SERVERS=ubuntu@192.168.1.10,fedora@192.168.1.30
# Leave empty or unset to use --local flag for local system only
# UPDATE_SERVERS=

# SSH key path for passwordless authentication to remote servers
# UPDATE_SSH_KEY=/home/ubuntu/.ssh/id_ed25519


# ==============================================================================
# UPDATECTL - Apply OS and Docker updates (companion to updatemon)
# ==============================================================================

# updatectl uses the same UPDATE_SERVERS and UPDATE_SSH_KEY as updatemon above
# No additional configuration required for server connectivity

# IMPORTANT: updatectl can MODIFY your systems by applying updates
# Always test with --dry-run first to preview changes
#
# Manual usage examples:
#   docker compose exec updatectl_runner /app/updatectl all --dry-run --local
#   docker compose exec updatectl_runner /app/updatectl os --yes --local
#   docker compose exec updatectl_runner /app/updatectl docker --all --yes --local
#
# Automated updates via Ofelia (see docker-compose.yml):
#   Ofelia jobs are COMMENTED OUT by default for safety
#   Uncomment schedules in docker-compose.yml to enable automated updates


# ==============================================================================
# DEVELOPMENT / TESTING
# ==============================================================================

# Image tag overrides for pre-merge testing
# Set these to test feature branches, PRs, or specific commits
# Leave commented to use :latest from main branch
#
# Examples:
#   WEATHERUST_TAG=feature-my-feature
#   WEATHERUST_TAG=pr-42
#   WEATHERUST_TAG=sha-abc1234
#   SPEEDYNOTIFY_TAG=feature-speedtest-v2
#   DOCKERMON_TAG=sha-def5678
#   UPDATEMON_TAG=feature-update-checker
#   UPDATECTL_TAG=feature-auto-updater
#
# WEATHERUST_TAG=
# SPEEDYNOTIFY_TAG=
# DOCKERMON_TAG=
# UPDATEMON_TAG=
# UPDATECTL_TAG=
